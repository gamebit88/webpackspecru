<!DOCTYPE html>
<html>
<head>
	<title>loaders</title>
	<style type="text/css">
		textarea{width:700px;height: 150px}
	</style>
</head>
<body>
<h1>Loaders</h1>

<p>Загрузчики - это преобразования, которые применяются к исходному коду модуля. Они позволяют вам предварительно обрабатывать файлы по мере необходимости () или «загружать» их.</p>
<p>Таким образом, загрузчики являются своего рода «задачами» в других инструментах сборки и обеспечивают эффективный способ обработки входных этапов переднего плана. Загрузчики могут преобразовывать файлы с другого языка (например, TypeScript) в JavaScript или встроенные изображения в виде URL-адресов данных.</p>
<p>Погрузчики даже позволяют вам делать такие вещи, как require () CSS-файлы прямо в вашем JavaScript!</p>
<p><h3>Example</h3></p>
<p>Например, вы можете использовать загрузчики, чтобы указать webpack загрузить CSS-файл или конвертировать TypeScript в JavaScript. Во-первых, установите соответствующие загрузчики:</p>
<p><textarea>npm install --save-dev css-loader
npm install --save-dev ts-loader
</textarea></p>
<p>Во-вторых, сконфигурируйте в вашем файле webpack.config.js, что для каждого файла .css css-загрузчик должен использоваться и аналогично для .ts-файлов и ts-loader:</p>
<p>webpack.config.js</p>
<p><textarea>module.exports = {
  module: {
    rules: [
      {test: /\.css$/, use: 'css-loader'},
      {test: /\.ts$/, use: 'ts-loader'}
    ]
  }
};
</textarea></p>
<p>Обратите внимание, что в соответствии с параметрами конфигурации, следующие спецификации определяют одинаковое использование загрузчика:</p>
<p><textarea>{test: /\.css$/, loader: 'css-loader'}
// or equivalently
{test: /\.css$/, use: 'css-loader'}
// or equivalently
{test: /\.css$/, use: {
  loader: 'css-loader',
  options: {}
}}
</textarea></p>
<p><h3>Configuration</h3></p>
<p><ul>Существует три способа использования загрузчиков в приложении:
<li>с помощью конфигурации</li>
<li>Явно в операторе require</li>
<li>с помощью интерфейса командной строки</li>
</ul></p>
<p><h3>с помощью конфигурации</h3></p>
<p>Module.rules позволяет вам указать несколько загрузчиков в вашей конфигурации webpack. Это сжатый способ отображения загрузчиков и помогает поддерживать чистый код. Он также предлагает вам полный обзор каждого соответствующего загрузчика.</p>
<p><textarea>  module: {
    rules: [
      {
        test: /\.css$/,
        use: [
          { loader: 'style-loader'},
          {
            loader: 'css-loader',
            options: {
              modules: true
            }
          }
        ]
      }
    ]
  }
</textarea></p>
<p><h3>Via require</h3></p>
<p>Можно указать загрузчики в операторе require (или define, require.ensure и т. Д.). Отдельные загрузчики из ресурса! Каждая часть решается относительно текущего каталога.</p>
<p>require('style-loader!css-loader?modules!./styles.css');
</p>
<p>Можно перезаписать любые загрузчики в конфигурации, поставив префикс всему правилу!</p>
<p>Параметры могут передаваться с параметром запроса, как и в Интернете (? Key = value & foo = bar). Также можно использовать объект JSON (? {«Key»: «value», «foo»: «bar»}).</p>
<p>Используйте module.rules, когда это возможно, поскольку это уменьшит шаблон в вашем исходном коде и позволит вам быстрее отлаживать или находить загрузчик, если что-то пойдет на юг.</p>
<p><h3>Via CLI</h3></p>
<p>Кроме того, вы можете использовать загрузчики через CLI:</p>
<p>webpack --module-bind jade-loader --module-bind 'css=style-loader!css-loader'
</p>
<p>Это использует jade-загрузчик для файлов .jade, а также загрузчик стиля и css-загрузчик для файлов .css.</p>
<p><h3>Loader Features</h3></p>
<p><ul>
	<li>Погрузчики можно приковать. Они применяются в конвейере к ресурсу. Цепочка загрузчиков составлена ​​в хронологическом порядке.Первый загрузчик в цепочке загрузчиков возвращает значение к следующему. В конечном загрузчике webpack ожидает, что JavaScript будет возвращен.</li>
	<li>Погрузчики могут быть синхронными или асинхронными.</li>
	<li>Загрузчики выполняются в Node.js и могут делать все, что возможно там.</li>
	<li>Загрузчики принимают параметры запроса. Это можно использовать для передачи конфигурации загрузчику.</li>
	<li>Загрузчики также могут быть настроены с помощью объекта опций.</li>
	<li>Нормальные модули могут экспортировать загрузчик в дополнение к обычному основному через package.json с полем загрузчика.</li>
	<li>Плагины могут дать загрузчикам больше возможностей.</li>
	<li>Загрузчики могут испускать дополнительные произвольные файлы.</li>
</ul></p>
<p>Погрузчики позволяют больше энергии в экосистеме JavaScript через функции предварительной обработки (загрузчики). Теперь у пользователей есть больше гибкости, чтобы включить мелкозернистую логику, такую ​​как сжатие, упаковка, языковые переводы и многое другое.</p>
<p><h3>Resolving Loaders</h3></p>
<p>Погрузчики выполняют стандартное разрешение модуля. В большинстве случаев это будут загрузчики из пути модуля (думаю, npm install, node_modules).</p>
<p>Как написать загрузчик? Ожидается, что модуль загрузчика экспортирует функцию и будет написан в JavaScript-совместимом Node.js. В общем случае вы управляете загрузчиками с помощью npm, но вы также можете загружать файлы в своем приложении.</p>
<p>По соглашению загрузчики обычно называются XXX-loader, где XXX - это имя контекста. Например, json-loader.</p>
<p>Соглашение о названии загрузчика и порядок поиска приоритета определяются с помощью метода resolveLoader.moduleTemplates в API конфигурации webpack.</p>
</body>
</html>